zookeeper:
  image: samsara/zookeeper
  ports:
    - "2181:2181"
    - "15001:15000"
  environment:
    ZK_SERVER_ID: 1
  volumes:
    - /tmp/docker/zk1/logs:/logs
    - /tmp/docker/zk1/data:/data


kafka1:
  extends:
    file: ./configs/kafka-osx.yml
    service: kafka-osx
  links:
    - zookeeper:zookeeper
  ports:
    - "9092:9092"
    - "15002:15000"
  environment:
    KAFKA_BROKER_ID: 1
    KAFKA_ADVERTISED_HOST_NAME: 192.168.59.103
  volumes:
    - /tmp/docker/kafka1/logs:/logs
    - /tmp/docker/kafka1/data:/data


kafka2:
  extends:
    file: ./configs/kafka-osx.yml
    service: kafka-osx
  links:
    - zookeeper:zookeeper
  ports:
    - "9093:9092"
    - "15003:15000"
  environment:
    KAFKA_BROKER_ID: 2
    KAFKA_ADVERTISED_HOST_NAME: 192.168.59.103
  volumes:
    - /tmp/docker/kafka2/logs:/logs
    - /tmp/docker/kafka2/data:/data


kafka3:
  extends:
    file: ./configs/kafka-osx.yml
    service: kafka-osx
  links:
    - zookeeper:zookeeper
  ports:
    - "9094:9092"
    - "15004:15000"
  environment:
    KAFKA_BROKER_ID: 3
    KAFKA_ADVERTISED_HOST_NAME: 192.168.59.103
  volumes:
    - /tmp/docker/kafka3/logs:/logs
    - /tmp/docker/kafka3/data:/data
